# 盤面遊戲計分板 App 說明

## 應用簡介
本專案是一個以 **React + TypeScript** 架構、利用 **Vite** 打包的
單頁（SPA）前端應用。目標是為各式桌遊提供通用的計分板、歷史紀錄、
工具輔助和設定編輯功能，支援手機和平板等行動裝置。資料儲存在
IndexedDB（透過 `dexie`）並提供簡易的導入／導出。專案包含多種
小工具（秒數計時、投幣器、計算機、隨機器等）以強化遊戲體驗，
並有掃描與雲端同步的雛型。

主要模組／資料夾：

- `src/components`：UI 元件，依功能分為 `session`、`history`、
  `editor`、`scanner`、`tools` 等。
- `src/hooks`：自訂 React hooks，如資料查詢、Google Drive 同步、
  手勢處理等。
- `src/services`：業務邏輯服務，例如資料庫存取、實體清理、
  影像輸出等。
- `src/i18n`：國際化資源，目前包含中英對照與測試。
- `config`、`constants` 等用於設定與全域常數。

專案使用 TailwindCSS 與 Lucide 圖示，測試套件以 Vitest +
Testing Library 提供單元與整合測試。

## 現行缺陷與痛點
以下依照模組和使用者角度列出目前可見的問題：

1. **介面與操作**
   - 行動裝置版面尚未完全優化，部分彈出視窗或編輯器在窄螢幕上
     會超出視窗。
   - 工具模組（如掃描器）缺乏進度提示，掃描失敗時無友善回饋。
   - 有些按鈕與文字沒有國際化字串（e.g. 未翻譯的 `TODO`）。
   - `index.css` 在 build 時被 Vite 警告，但未造成致命錯誤。

2. **資料與同步**
   - 目前資料只存本地 IndexedDB，未實作穩定的同步機制；雲端
     Google Drive 支援仍在測試階段。
   - 大量歷史紀錄檢索速度稍慢，有未優化的查詢。
   - 匯出／匯入功能尚未自動處理版本升級或欄位遺失。

3. **功能完整性**
   - 掃描與相機整合最終未完成，掃描樣板只留部分程式碼。
   - 沒有使用者帳號系統，無法跨裝置登入與協作。
   - 部分工具（例如 `TimerTool`、`CountdownTool`）缺少測試。

4. **測試與型別**
   - 雖然存在測試檔案，但覆蓋率有限，特別是 i18n 與掃描相關
     的邏輯沒納入自動化測試。
   - TypeScript 型別在某些地方使用了 `any` 或不夠嚴格的定義。

5. **其他小缺陷**
   - 編譯或 lint 輸出偶爾出現警告（例如 `build_err.txt` 中的路徑問題）。
   - 部分紀錄腳本（`scan_*.txt`）顯示掃描過程的歷史資料但未清理。

## 未來開發方向建議
根據上述缺陷與潛在需求，提出以下發展方向：

1. **使用者體驗提升**
   - 完成並優化手機/平板的 RWD；引入 PWA 設定、螢幕方向鎖定
     等行動裝置特性。
   - 強化掃描流程：加入相機授權、框選介面、結果校正與錯誤訊息。
   - 實作完整的國際化流程，使用 i18n 物件自動生成翻譯檔並
     管理語系切換。

2. **資料同步與分享**
   - 建立後端 API 或利用第三方服務實現跨裝置同步，並加上
     使用者帳號及授權機制。
   - 增加匯入/匯出多格式支援（JSON、CSV、圖片、PDF）及
     備份/還原功能。
   - 考慮遊戲單或範本庫的雲端分享與下載。

3. **功能擴展**
   - 加入即時多人協作（WebRTC/Socket），顯示他人分數更新。
   - 提供遊戲建議、歷史分析與統計圖表。
   - 整合條碼/QR code 資料庫（BGG、BGStats）自動填充遊戲資訊。
   - 開放第三方插件介面，允許社群開發自定工具。

4. **品質與架構**
   - 擴大測試覆蓋率，特別是跨語系、資料遷移和掃描流程。
   - 重構部分 hooks 與 service 以達到更高可測試性與重用性。
   - 加入 lint、格式化與 CI，確保建置穩定與程式碼品質。

5. **其他可能性**
   - 探索 AI 助手（例如提示輸入戰術、判斷牌組分數）或
     生成對局回顧文字。
   - 導入更進階的可存取性（音訊提示、鍵盤導航）以支援更多
     使用者。

---

> **如何使用本檔案：** 將 `VSCode.md` 視為專案說明草案，可作為
> README 的補充、開發計劃或技術文件。根據實際進度與討論
> 隨時更新。